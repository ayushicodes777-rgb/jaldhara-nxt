name = "farmgpt-app"
main = "src/worker.js"  # We'll create this for SPA routing
compatibility_date = "2024-01-01"

[site]
bucket = "dist"
entry-point = "workers-site"

[env.production.vars]
VITE_GEMINI_API_KEY = "AIzaSyC9TajWNNnnW5ovh64QYMfGffg0KxUfkh4"
VITE_GEMINI_MODEL = "gemini-2.5-flash-lite"
VITE_PDFSHIFT_API_KEY = "sk_09d22ed471315d28c26eb187d6eaf63ab9ee9ca7"

# For SPA routing - handle all routes with index.html
[[rules]]
type = "ESModule"
globs = ["**/*.{js,ts,jsx,tsx}"]

[build]
command = "npm run build"
watch_dir = "src"
